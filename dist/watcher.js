// Generated by CoffeeScript 1.10.0
var chokidar, watchedFiles, watcher, watcherAdd;

chokidar = require('chokidar');

watchedFiles = [];

watcher = chokidar.watch([], {
  'cwd': process.cwd(),
  'ignoreInitial': true,
  'ignored': /\.git/
});

watcher.ready = new Promise(function(resolve) {
  watcher.on('ready', resolve);
  return setTimeout(resolve, 200);
});

watcherAdd = watcher.add.bind(watcher);

watcher.add = function(path) {
  if (!watchedFiles.includes(path)) {
    watchedFiles.push(path);
    return watcherAdd(path);
  }
};

module.exports = watcher;
